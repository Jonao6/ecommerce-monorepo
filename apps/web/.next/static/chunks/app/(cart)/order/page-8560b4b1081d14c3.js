(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{107:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>l});var a=s(9236);s(1032);var r=s(7505),n=s(865),i=s(5224);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:n,asChild:d=!1,...o}=e,c=d?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...o})}},611:(e,t,s)=>{"use strict";s.d(t,{TR:()=>x,bq:()=>m,eb:()=>p,gC:()=>u,l6:()=>o,yv:()=>c});var a=s(9236);s(1032);var r=s(7093),n=s(5664),i=s(3466),l=s(489),d=s(5224);function o(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:s="default",children:i,...l}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[i,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:t,children:s,position:n="popper",...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,a.jsx)(g,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(h,{})]})})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.JU,{"data-slot":"select-label",className:(0,d.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...s})}function p(e){let{className:t,children:s,...n}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:s})]})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(l.A,{className:"size-4"})})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.A,{className:"size-4"})})}},1267:(e,t,s)=>{"use strict";s.d(t,{x:()=>n});var a=s(2463),r=s(6007);let n=(0,a.v)()((0,r.Zr)(e=>({items:[],addItem:t=>e(e=>e.items.find(e=>e.id===t.id)?{items:e.items.map(e=>e.id===t.id?{...e,quantity:e.quantity+t.quantity}:e)}:{items:[...e.items,t]}),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),clear:()=>e({items:[]})}),{name:"cart-storage"}))},3131:(e,t,s)=>{"use strict";s.d(t,{Label:()=>i});var a=s(9236);s(1032);var r=s(7826),n=s(5224);function i(e){let{className:t,...s}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},5224:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(7113),r=s(4121);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},5906:(e,t,s)=>{Promise.resolve().then(s.bind(s,6069))},6069:(e,t,s)=>{"use strict";s.d(t,{CartOrder:()=>S});var a=s(9236),r=s(9474),n=s(8073),i=s(6399),l=s(1267),d=s(1032),o=s(107),c=s(2100),m=s(7261),u=s(6685),x=s(611);let p=e=>{let{states:t}=e;return(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3 font-barlow-semi-condensed",children:"ENDERE\xc7O"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Endere\xe7o de entrega"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(u.p,{placeholder:"Nome","aria-label":"Nome",name:"name"}),(0,a.jsx)(u.p,{placeholder:"Sobrenome","aria-label":"Sobrenome",name:"second_name"})]}),(0,a.jsx)(u.p,{placeholder:"Endere\xe7o","aria-label":"Endere\xe7o",name:"address"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(u.p,{placeholder:"CEP","aria-label":"CEP",name:"zap_code"}),(0,a.jsx)(u.p,{placeholder:"N\xfamero","aria-label":"N\xfamero",name:"street_number"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(u.p,{placeholder:"Informa\xe7\xf5es adicionais","aria-label":"Informa\xe7\xf5es adicionais",name:"complements"}),(0,a.jsx)(u.p,{placeholder:"Bairro","aria-label":"Bairro",name:"neighbor"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(u.p,{placeholder:"Cidade","aria-label":"Cidade",name:"city"}),(0,a.jsxs)(x.l6,{name:"state",children:[(0,a.jsx)(x.bq,{children:(0,a.jsx)(x.yv,{placeholder:"Estado"})}),(0,a.jsx)(x.gC,{children:t.map(e=>(0,a.jsx)(x.eb,{value:e.sigla,children:e.nome},e.id))})]})]}),(0,a.jsx)(u.p,{placeholder:"Telefone","aria-label":"Telefone",name:"phone"}),(0,a.jsx)(u.p,{placeholder:"CPF","aria-label":"CPF",name:"CPF"})]})]})};var g=s(3131),h=s(1123),f=s(5054),b=s(5224);function v(e){let{className:t,...s}=e;return(0,a.jsx)(h.bL,{"data-slot":"radio-group",className:(0,b.cn)("grid gap-3",t),...s})}function j(e){let{className:t,...s}=e;return(0,a.jsx)(h.q7,{"data-slot":"radio-group-item",className:(0,b.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(h.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(f.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}let y=e=>{let{deliveryOption:t,setDeliveryOption:s}=e;return(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3 font-barlow-semi-condensed",children:"OP\xc7\xd5ES DE ENTREGA"}),(0,a.jsxs)(v,{defaultValue:t,onValueChange:s,className:"space-y-3",name:"delivery_method",children:[(0,a.jsxs)(g.Label,{className:"flex justify-between items-center border p-4 rounded-lg cursor-pointer transition-all ".concat("scheduled"===t?"border-gray-800 ring-2 ring-gray-800":"border-gray-200"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 ",children:"PAT - ENTREGA AGENDADA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"R$30,00"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Agendamento dispon\xedvel a partir do dia, 30 de agosto."})]})]}),(0,a.jsx)(j,{value:"scheduled",className:"ml-4",hidden:!0})]}),(0,a.jsxs)(g.Label,{className:"flex justify-between items-center border p-4 rounded-lg cursor-pointer transition-all ".concat("standard"===t?"border-gray-800 ring-2 ring-gray-800":"border-gray-200"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800",children:"Entrega at\xe9 16 Julho"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Gr\xe1tis"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Entrega entre as 08:00 - 19:00"})]})]}),(0,a.jsx)(j,{value:"standard",className:"ml-4",hidden:!0})]})]})]})},N=()=>(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3 font-barlow-semi-condensed",children:"PAGAMENTO"}),(0,a.jsx)("div",{className:"border rounded-lg p-6",children:(0,a.jsx)(r.PaymentElement,{})})]});var w=s(2458),E=s(1171);function z(){let e=(0,w._)(["\n	mutation CreateOrder($input: CreateOrderInput!) {\n		createOrder(input: $input) {\n			id\n			status\n			createdAt\n		}\n	}\n"]);return z=function(){return e},e}let k=(0,E.J1)(z());function _(){let e=(0,w._)(["\n	mutation CreatePaymentIntent($input: CreatePaymentIntentInput!) {\n		createPaymentIntent(input: $input) {\n			clientSecret\n		}\n	}\n"]);return _=function(){return e},e}let A=(0,E.J1)(_()),P=e=>{let{states:t,items:s,totalInCents:n}=e,i=(0,r.useStripe)(),l=(0,r.useElements)(),[u,x]=(0,d.useState)("standard"),[g,h]=(0,d.useState)(!1),[f,b]=(0,d.useState)(null),[v,{error:j}]=(0,m.n)(k),[w,{error:E}]=(0,m.n)(A),z=async e=>{if(e.preventDefault(),i&&l&&0!==s.length){h(!0),b(null);try{var t,a,r;let d=e.target,o=new FormData(d),c={name:o.get("name"),secondName:o.get("second_name"),address:o.get("address"),zipCode:o.get("zap_code"),streetNumber:o.get("street_number"),complements:o.get("complements"),neighborhood:o.get("neighbor"),city:o.get("city"),state:o.get("state"),phone:o.get("phone"),cpf:o.get("CPF")},m=await v({variables:{input:{items:s.map(e=>({productId:e.id,quantity:e.quantity})),totalAmount:n,shippingAddress:c,deliveryOption:u}}});if(!m.data)throw Error("Falha ao receber o pedido. Tente novamente.");let x=null==(t=m.data.createOrder)?void 0:t.id;if(!x||j)throw Error("Falha ao criar o pedido. Tente novamente.");let p=null==(r=(await w({variables:{input:{orderId:x,amount:n}}})).data)||null==(a=r.createPaymentIntent)?void 0:a.clientSecret;if(!p||E)throw Error("N\xe3o foi poss\xedvel inicializar o pagamento.");let{error:g}=await i.confirmPayment({elements:l,clientSecret:p,confirmParams:{return_url:"".concat(window.location.origin,"/order/confirmation")}});g&&b(g.message||"Ocorreu um erro inesperado.")}catch(t){let e="Ocorreu um erro. Por favor, verifique seus dados.";"object"==typeof t&&null!==t&&"message"in t&&"string"==typeof t.message&&(e=t.message),b(e)}}};return(0,a.jsxs)("form",{onSubmit:z,className:"lg:col-span-2 space-y-12",children:[(0,a.jsx)(p,{states:t}),(0,a.jsx)(y,{deliveryOption:u,setDeliveryOption:x}),(0,a.jsx)(N,{}),f&&(0,a.jsx)("p",{className:"text-red-500 text-sm font-semibold",children:f}),(0,a.jsxs)(o.$,{type:"submit",size:"lg",disabled:g||!i||!l,className:"flex flex-row justify-between px-20 w-1/3 text-base font-barlow-semi-condensed",children:[g?"PROCESSANDO...":"FINALIZAR O PEDIDO",(0,a.jsx)(c.A,{size:20})]})]})};var C=s(4885);let O=e=>{let{total:t,quantity:s,delivery:r}=e,{items:n}=(0,l.x)();return(0,a.jsxs)("div",{className:"border rounded-lg p-6 lg:sticky lg:top-8 font-inter",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800 font-barlow-semi-condensed",children:"SEU PEDIDO"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"".concat(s," Produtos")}),(0,a.jsx)("span",{children:t})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Entrega"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:"".concat(r>0?r:"Gr\xe1tis")})]})]}),(0,a.jsx)("div",{className:"border-t my-4"}),(0,a.jsxs)("div",{className:"flex justify-between font-bold text-lg text-gray-900",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:"R$3.000,00"})]}),(0,a.jsx)("div",{className:"border-t my-4"}),(0,a.jsx)("div",{className:"flex items-start space-x-4 mt-6",children:(0,a.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-md flex-shrink-0",children:(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)("ul",{children:n.map(e=>(0,a.jsxs)("li",{className:"flex flex-row",children:[(0,a.jsx)(C.default,{src:e.url,fill:!0,alt:e.name}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:e.name}),(0,a.jsx)("p",{children:e.price}),(0,a.jsx)("p",{children:e.size}),(0,a.jsx)("p",{children:e.quantity}),(0,a.jsx)("p",{children:e.color})]}),(0,a.jsx)("p",{children:"Tamanho: ".concat(e.size)})]})]},e.id))})})})})]})},I=(0,n.c)("pk_test_51S2eWpAYgo73ER03lzIDsOspVWZuNz5tJR75Lsx1lEx9SGoY38ywMNj8YppEgzr6VrGk1McxD2upES29eAOspl7l00vcfuGzJ0"),S=e=>{let{states:t}=e,{items:s}=(0,l.x)(),n=(0,i.k)(s),d=s.length>0?.03*n:0,o=n+d,c=Math.round(100*o);return 0===s.length?(0,a.jsx)("div",{className:"text-center py-20",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Seu carrinho est\xe1 vazio."})}):(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl px-4 py-8 font-inter",children:[(0,a.jsx)("header",{className:"text-center mb-10",children:(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 font-barlow-semi-condensed",children:"FINALIZAR COMPRA"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 lg:gap-12",children:[(0,a.jsx)(r.Elements,{stripe:I,children:(0,a.jsx)(P,{states:t,items:s,totalInCents:c})}),(0,a.jsx)("aside",{className:"lg-col-span-1",children:(0,a.jsx)(O,{total:o,quantity:s.length,delivery:d})})]})]})}},6399:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});let a=e=>e.reduce((e,t)=>e+t.price*t.quantity,0)},6685:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(9236);s(1032);var r=s(5224);function n(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[809,250,879,453,892,842,790,901,353,511,358],()=>t(5906)),_N_E=e.O()}]);